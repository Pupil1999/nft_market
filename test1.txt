No files changed, compilation skipped

Ran 7 tests for test/Market.t.sol:MarketTest
[PASS] invariant_MarketHasNoERC20() (runs: 256, calls: 128000, reverts: 95895)
[PASS] test_NFTMint() (gas: 77538)
[PASS] test_OverPayment(uint256,address) (runs: 259, μ: 230063, ~: 230072)
[PASS] test_buyNFT(uint256,address) (runs: 259, μ: 226553, ~: 226625)
[PASS] test_inadequatePayment(uint256,address) (runs: 259, μ: 233464, ~: 234233)
[PASS] test_onMarket(uint256) (runs: 260, μ: 225913, ~: 225913)
[FAIL. Reason: call did not revert as expected; counterexample: calldata=0xbba0acf50000000000000000000000000000000000000000000000000000000000000cfc0000000000000000000000000000000000000000000000000000000000000679 args=[3324, 0x0000000000000000000000000000000000000679]] test_repeatedBuy(uint256,address) (runs: 0, μ: 0, ~: 0)
Traces:
  [253379] MarketTest::test_repeatedBuy(3324, 0x0000000000000000000000000000000000000679)
    ├─ [0] VM::assume(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::assume(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [69443] BimNFT::mint()
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], tokenId: 1)
    │   └─ ← [Return] 1
    ├─ [106329] BimNFT::safeTransferFrom(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 1, 0x0000000000000000000000000000000000000000000000000000000000000cfc)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 1)
    │   ├─ [74015] Market::onERC721Received(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 1, 0x0000000000000000000000000000000000000000000000000000000000000cfc)
    │   │   ├─ [576] BimNFT::ownerOf(1) [staticcall]
    │   │   │   └─ ← [Return] Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a]
    │   │   ├─ [23052] BimNFT::approve(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 1)
    │   │   │   ├─ emit Approval(owner: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], approved: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 1)
    │   │   │   └─ ← [Stop] 
    │   │   ├─ emit OnMarket(owner: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], tokenId: 1, price: 3324)
    │   │   └─ ← [Return] 0x150b7a0200000000000000000000000000000000000000000000000000000000
    │   └─ ← [Stop] 
    ├─ [29988] BimToken::transfer(0x0000000000000000000000000000000000000679, 3324)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x0000000000000000000000000000000000000679, value: 3324)
    │   └─ ← [Return] true
    ├─ [0] VM::prank(0x0000000000000000000000000000000000000679)
    │   └─ ← [Return] 
    ├─ [0] VM::expectEmit(true, true, true, true, Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a])
    │   └─ ← [Return] 
    ├─ emit TokenBought(oldOwner: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], newOwner: 0x0000000000000000000000000000000000000679, tokenId: 1)
    ├─ [63024] BimToken::transferAndCall(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 3324, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000679, to: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], value: 3324)
    │   ├─ [36670] Market::onTransferReceived(0x0000000000000000000000000000000000000679, BimToken: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], 3324, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   │   ├─ [26363] BimNFT::transferFrom(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 0x0000000000000000000000000000000000000679, 1)
    │   │   │   ├─ emit Transfer(from: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], to: 0x0000000000000000000000000000000000000679, tokenId: 1)
    │   │   │   └─ ← [Stop] 
    │   │   ├─ [3288] BimToken::transfer(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 3324)
    │   │   │   ├─ emit Transfer(from: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], to: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 3324)
    │   │   │   └─ ← [Return] true
    │   │   ├─ emit TokenBought(oldOwner: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], newOwner: 0x0000000000000000000000000000000000000679, tokenId: 1)
    │   │   └─ ← [Return] 0x88a7ca5c00000000000000000000000000000000000000000000000000000000
    │   └─ ← [Return] true
    ├─ [0] VM::stopPrank()
    │   └─ ← [Return] 
    ├─ [0] VM::expectRevert(no such token)
    │   └─ ← [Return] 
    ├─ [25988] BimToken::transfer(0x0000000000000000000000000000000000000679, 3324)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x0000000000000000000000000000000000000679, value: 3324)
    │   └─ ← [Return] true
    └─ ← [Revert] call did not revert as expected

Suite result: FAILED. 6 passed; 1 failed; 0 skipped; finished in 2.12s (2.26s CPU time)

Ran 1 test suite in 3.53s (2.12s CPU time): 6 tests passed, 1 failed, 0 skipped (7 total tests)

Failing tests:
Encountered 1 failing test in test/Market.t.sol:MarketTest
[FAIL. Reason: call did not revert as expected; counterexample: calldata=0xbba0acf50000000000000000000000000000000000000000000000000000000000000cfc0000000000000000000000000000000000000000000000000000000000000679 args=[3324, 0x0000000000000000000000000000000000000679]] test_repeatedBuy(uint256,address) (runs: 0, μ: 0, ~: 0)

Encountered a total of 1 failing tests, 6 tests succeeded
