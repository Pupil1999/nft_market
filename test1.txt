No files changed, compilation skipped

Ran 7 tests for test/Market.t.sol:MarketTest
[PASS] invariant_MarketHasNoERC20() (runs: 256, calls: 128000, reverts: 95863)
[PASS] test_NFTMint() (gas: 77538)
[FAIL. Reason: ERC20InsufficientBalance(0xF62849F9A0B5Bf2913b396098F7c7019b51A820a, 3373, 3374); counterexample: calldata=0x18d5adad0000000000000000000000000000000000000000000000000000000000000d2d00000000000000000000000000000000000000000000000000000000000007ab args=[3373, 0x00000000000000000000000000000000000007Ab]] test_OverPayment(uint256,address) (runs: 0, μ: 0, ~: 0)
Traces:
  [265776] MarketTest::test_OverPayment(3373, 0x00000000000000000000000000000000000007Ab)
    ├─ [0] VM::assume(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::assume(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [69443] BimNFT::mint()
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], tokenId: 1)
    │   └─ ← [Return] 1
    ├─ [106329] BimNFT::safeTransferFrom(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 1, 0x0000000000000000000000000000000000000000000000000000000000000d2d)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 1)
    │   ├─ [74015] Market::onERC721Received(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 1, 0x0000000000000000000000000000000000000000000000000000000000000d2d)
    │   │   ├─ [576] BimNFT::ownerOf(1) [staticcall]
    │   │   │   └─ ← [Return] Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a]
    │   │   ├─ [23052] BimNFT::approve(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 1)
    │   │   │   ├─ emit Approval(owner: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], approved: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 1)
    │   │   │   └─ ← [Stop] 
    │   │   ├─ emit OnMarket(owner: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], tokenId: 1, price: 3373)
    │   │   └─ ← [Return] 0x150b7a0200000000000000000000000000000000000000000000000000000000
    │   └─ ← [Stop] 
    ├─ [29988] BimToken::transfer(0x00000000000000000000000000000000000007Ab, 3473)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x00000000000000000000000000000000000007Ab, value: 3473)
    │   └─ ← [Return] true
    ├─ [0] VM::prank(0x00000000000000000000000000000000000007Ab)
    │   └─ ← [Return] 
    ├─ [61627] BimToken::transferAndCall(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 3374, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   ├─ emit Transfer(from: 0x00000000000000000000000000000000000007Ab, to: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], value: 3374)
    │   ├─ [35551] Market::onTransferReceived(0x00000000000000000000000000000000000007Ab, BimToken: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], 3374, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   │   ├─ [3288] BimToken::transfer(0x00000000000000000000000000000000000007Ab, 1)
    │   │   │   ├─ emit Transfer(from: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], to: 0x00000000000000000000000000000000000007Ab, value: 1)
    │   │   │   └─ ← [Return] true
    │   │   ├─ [26363] BimNFT::transferFrom(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 0x00000000000000000000000000000000000007Ab, 1)
    │   │   │   ├─ emit Transfer(from: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], to: 0x00000000000000000000000000000000000007Ab, tokenId: 1)
    │   │   │   └─ ← [Stop] 
    │   │   ├─ [897] BimToken::transfer(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 3374)
    │   │   │   └─ ← [Revert] ERC20InsufficientBalance(0xF62849F9A0B5Bf2913b396098F7c7019b51A820a, 3373, 3374)
    │   │   └─ ← [Revert] ERC20InsufficientBalance(0xF62849F9A0B5Bf2913b396098F7c7019b51A820a, 3373, 3374)
    │   └─ ← [Revert] ERC20InsufficientBalance(0xF62849F9A0B5Bf2913b396098F7c7019b51A820a, 3373, 3374)
    └─ ← [Revert] ERC20InsufficientBalance(0xF62849F9A0B5Bf2913b396098F7c7019b51A820a, 3373, 3374)

[PASS] test_buyNFT(uint256,address) (runs: 258, μ: 226606, ~: 226613)
[PASS] test_inadequatePayment(uint256,address) (runs: 258, μ: 233153, ~: 234233)
[PASS] test_onMarket(uint256) (runs: 259, μ: 225880, ~: 225880)
[FAIL. Reason: call did not revert as expected; counterexample: calldata=0xbba0acf50000000000000000000000000000000000000000000000000000000000000d2d00000000000000000000000000000000000000000000000000000000000007ab args=[3373, 0x00000000000000000000000000000000000007Ab]] test_repeatedBuy(uint256,address) (runs: 0, μ: 0, ~: 0)
Traces:
  [253359] MarketTest::test_repeatedBuy(3373, 0x00000000000000000000000000000000000007Ab)
    ├─ [0] VM::assume(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [0] VM::assume(true) [staticcall]
    │   └─ ← [Return] 
    ├─ [69443] BimNFT::mint()
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], tokenId: 1)
    │   └─ ← [Return] 1
    ├─ [106329] BimNFT::safeTransferFrom(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 1, 0x0000000000000000000000000000000000000000000000000000000000000d2d)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 1)
    │   ├─ [74015] Market::onERC721Received(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 1, 0x0000000000000000000000000000000000000000000000000000000000000d2d)
    │   │   ├─ [576] BimNFT::ownerOf(1) [staticcall]
    │   │   │   └─ ← [Return] Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a]
    │   │   ├─ [23052] BimNFT::approve(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 1)
    │   │   │   ├─ emit Approval(owner: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], approved: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], tokenId: 1)
    │   │   │   └─ ← [Stop] 
    │   │   ├─ emit OnMarket(owner: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], tokenId: 1, price: 3373)
    │   │   └─ ← [Return] 0x150b7a0200000000000000000000000000000000000000000000000000000000
    │   └─ ← [Stop] 
    ├─ [29988] BimToken::transfer(0x00000000000000000000000000000000000007Ab, 3373)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x00000000000000000000000000000000000007Ab, value: 3373)
    │   └─ ← [Return] true
    ├─ [0] VM::prank(0x00000000000000000000000000000000000007Ab)
    │   └─ ← [Return] 
    ├─ [0] VM::expectEmit(true, true, true, true, Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a])
    │   └─ ← [Return] 
    ├─ emit TokenBought(oldOwner: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], newOwner: 0x00000000000000000000000000000000000007Ab, tokenId: 1)
    ├─ [63009] BimToken::transferAndCall(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 3373, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   ├─ emit Transfer(from: 0x00000000000000000000000000000000000007Ab, to: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], value: 3373)
    │   ├─ [36655] Market::onTransferReceived(0x00000000000000000000000000000000000007Ab, BimToken: [0x5615dEB798BB3E4dFa0139dFa1b3D433Cc23b72f], 3373, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   │   ├─ [26363] BimNFT::transferFrom(Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], 0x00000000000000000000000000000000000007Ab, 1)
    │   │   │   ├─ emit Transfer(from: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], to: 0x00000000000000000000000000000000000007Ab, tokenId: 1)
    │   │   │   └─ ← [Stop] 
    │   │   ├─ [3288] BimToken::transfer(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 3373)
    │   │   │   ├─ emit Transfer(from: Market: [0xF62849F9A0B5Bf2913b396098F7c7019b51A820a], to: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 3373)
    │   │   │   └─ ← [Return] true
    │   │   ├─ emit TokenBought(oldOwner: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], newOwner: 0x00000000000000000000000000000000000007Ab, tokenId: 1)
    │   │   └─ ← [Return] 0x88a7ca5c00000000000000000000000000000000000000000000000000000000
    │   └─ ← [Return] true
    ├─ [0] VM::prank(MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496])
    │   └─ ← [Return] 
    ├─ [0] VM::expectRevert(no such token)
    │   └─ ← [Return] 
    ├─ [25988] BimToken::transfer(0x00000000000000000000000000000000000007Ab, 3373)
    │   ├─ emit Transfer(from: MarketTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x00000000000000000000000000000000000007Ab, value: 3373)
    │   └─ ← [Return] true
    └─ ← [Revert] call did not revert as expected

Suite result: FAILED. 5 passed; 2 failed; 0 skipped; finished in 2.09s (2.18s CPU time)

Ran 1 test suite in 4.10s (2.09s CPU time): 5 tests passed, 2 failed, 0 skipped (7 total tests)

Failing tests:
Encountered 2 failing tests in test/Market.t.sol:MarketTest
[FAIL. Reason: ERC20InsufficientBalance(0xF62849F9A0B5Bf2913b396098F7c7019b51A820a, 3373, 3374); counterexample: calldata=0x18d5adad0000000000000000000000000000000000000000000000000000000000000d2d00000000000000000000000000000000000000000000000000000000000007ab args=[3373, 0x00000000000000000000000000000000000007Ab]] test_OverPayment(uint256,address) (runs: 0, μ: 0, ~: 0)
[FAIL. Reason: call did not revert as expected; counterexample: calldata=0xbba0acf50000000000000000000000000000000000000000000000000000000000000d2d00000000000000000000000000000000000000000000000000000000000007ab args=[3373, 0x00000000000000000000000000000000000007Ab]] test_repeatedBuy(uint256,address) (runs: 0, μ: 0, ~: 0)

Encountered a total of 2 failing tests, 5 tests succeeded
